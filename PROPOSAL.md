# Telegram Personal Assistant Bot
## Project Proposal - LLM-Powered Personal Management System

---

## 專案資訊

**專案名稱**: Telegram Personal Assistant Bot (LLM-Powered)

---

## 一、專案目標

開發一個基於 Telegram 的智能個人助理機器人，透過 **LLM (Large Language Model)** 驅動的自然語言理解，提供無縫的生活管理體驗。

### 核心理念


傳統的個人管理工具需要用戶學習複雜的指令或操作介面。本專案利用 **LLM 的強大語言理解能力**，讓用戶以最自然的方式與助理對話，就像與真人助理交流一樣。

---

## 二、問題背景與動機

### 現有解決方案的局限性

**記帳應用程式**
- 需要手動選擇類別
- 介面複雜，記錄流程繁瑣
- 類別固定，無法適應個人習慣
- 需要多次點擊才能完成一筆記錄

**待辦事項應用程式**
- 需要填寫表單
- 日期時間選擇器操作麻煩
- 無法理解自然語言表達如「明天」「下週五前」
- 優先級需手動設定

**提醒應用程式**
- 設定重複提醒的介面複雜
- 無法處理複雜的時間表達
- 多個時間點需分別設定

**筆記應用程式**
- 需要在多個 App 之間切換
- 分類整理耗時
- 搜尋功能受限於關鍵字匹配

### 使用者痛點

引用真實場景：

> "我只是想快速記錄「午餐 150」，為什麼要：打開 App → 選擇類別 → 輸入金額 → 選擇日期 → 確認？"

> "筆記、備忘錄沒時間整理，需要的時候花了很多時間在不同層級的目錄中尋找"

### 市場機會

根據觀察與研究：
- Telegram 全球擁有超過 7 億活躍用戶
- 年輕世代（18-35 歲）偏好即時通訊工具
- 對話式 AI 的接受度持續提升
- 個人資訊管理市場需求持續增長

---

## 三、LLM 驅動的創新價值

### 為什麼需要 LLM？

傳統的規則式系統（Rule-based System）面臨的挑戰：

```
傳統方式:
用戶: "早餐 80"
系統: 無法理解 → 需要固定格式如 "/expense 80 food"

用戶: "昨天買了一本書大概 350 左右"
系統: 無法解析複雜語句 → 記錄失敗
```

**LLM 能夠解決的問題：**

1. **語義理解**
   - 理解模糊、口語化的表達
   - 處理多樣的時間表達方式
   - 提取關鍵資訊（金額、日期、類別）

2. **上下文感知**
   - 記住用戶習慣（常用類別、表達方式）
   - 理解代詞和省略（"也記一筆"、"一樣的"）
   - 處理多輪對話

3. **智能分類**
   - 自動判斷支出類別
   - 學習用戶的分類習慣
   - 動態適應，不寫死規則

4. **參數提取**
   - 從自然語言中精確提取結構化資料
   - 處理不完整資訊並合理補全
   - 識別意圖並路由到正確功能

### LLM 在本專案中的應用場景

**場景 1：智能記帳**

```
用戶: "今天中午跟同事吃飯花了大概 200 多"

LLM 處理:
{
  "intent": "create_expense",
  "amount": 200,
  "category": "飲食",
  "subcategory": "午餐",
  "description": "跟同事吃飯",
  "date": "2025-10-30"
}

用戶: "Netflix 又扣款了 390"

LLM 處理:
{
  "intent": "create_expense",
  "amount": 390,
  "category": "訂閱",
  "subcategory": "串流影音",
  "description": "Netflix 月費"
}
```

**場景 2：時間理解**

```
用戶: "明天下午 3 點要開會"
LLM: 理解為 2025-10-31 15:00

用戶: "每週一早上 9 點"
LLM: 理解為重複事件，frequency=weekly, day=Monday, time=09:00

用戶: "30 分鐘後提醒我"
LLM: 計算絕對時間 = NOW() + 30 minutes
```

**場景 3：意圖識別**

```
用戶: "今天花了多少"
LLM: intent=query_transaction, period=today

用戶: "記住我的車位是 B3-25"
LLM: intent=create_memo, content="車位 B3-25"

用戶: "週五前要完成報告"
LLM: intent=create_todo, title="完成報告", due_date="2025-11-01"
```

## 四、系統設計

### 技術架構

**後端技術棧**
- 語言：python 3.12+ 
- 資料庫：PostgreSQL 14+
- LLM SDK：anthropic-sdk-go

**架構圖**

```
┌─────────────┐
│  Telegram   │  用戶透過 Telegram 發送訊息
│   用戶端     │
└──────┬──────┘
       │
       ▼
┌─────────────────────────────────┐
│   Telegram Bot API Handler      │  接收訊息、發送回應、推送通知
└──────┬──────────────────────────┘
       │
       ▼
┌─────────────────────────────────┐
│    Message Router               │  訊息預處理、路由分發
└──────┬──────────────────────────┘
       │
       ▼
┌─────────────────────────────────┐
│  LLM Intent Recognition         │  *** LLM 核心層 ***
│  - 意圖識別                      │  - 呼叫 Claude API
│  - 參數提取                      │  - Prompt Engineering
│  - 類別判斷                      │  - 上下文管理
│  - 時間解析                      │
└──────┬──────────────────────────┘
       │
       ▼
┌─────────────────────────────────┐
│   Business Logic Layer          │  根據識別的意圖執行業務邏輯
│   - Memo Service                │
│   - Todo Service                │
│   - Event Service               │
│   - Accounting Service          │
│   - Reminder Service            │
└──────┬──────────────────────────┘
       │
       ▼
┌─────────────────────────────────┐
│   Database Layer (PostgreSQL)   │  資料持久化
│   - 用戶資料                     │
│   - 交易記錄                     │
│   - 類別學習記錄                 │
│   - 事件與提醒                   │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│   Background Jobs Scheduler     │  定時任務
│   - 事件提醒                     │
│   - 預算警告                     │
│   - 逾期通知                     │
└─────────────────────────────────┘
```

### 核心功能模組

**1. 備忘錄系統**
- 快速記錄資訊
- 全文搜尋
- 標籤分類
- LLM 自動提取關鍵字和標籤

**2. 待辦事項管理**
- 自動識別截止日期
- 優先級判斷
- 逾期提醒
- 完成狀態追蹤

**3. 行事曆與事件**
- 支援單次和重複事件
- 服藥提醒（重複事件特例）
- 彈性的通知設定
- 行程查詢

**4. 智能記帳系統**（重點模組）
- **LLM 動態類別判斷**：不寫死類別，根據內容自動分類
- **類別合併機制**：避免類別碎片化
- 支出統計與分析
- 預算管理與警告
- 定期交易自動記錄

**5. 提醒系統**
- 一次性提醒
- 重複提醒
- 倒數計時提醒



## 五、創新特色

### 1. 零學習成本
- 不需要記憶任何指令
- 像跟人說話一樣自然
- 適合所有年齡層使用

### 2. LLM 驅動的智能分類
- 自動學習用戶的分類習慣
- 動態調整，不寫死規則
- 隨著使用越來越精準

### 3. 跨功能整合
- 在同一個對話介面完成所有操作
- 無需在多個 App 之間切換
- 資料互通（如：待辦可轉為行事曆事件）

## 六、預期影響


1. **提升效率**
   - 降低記帳門檻，提高記帳意願
   - 自然語言介面節省操作時間
   - 統一平台減少 App 切換

2. **習慣培養**
   - 簡單的互動方式有助於培養記帳習慣
   - 自動提醒協助任務管理
   - 數據統計幫助反思消費行為



